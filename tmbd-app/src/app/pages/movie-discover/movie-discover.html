<div class="discover-container">
  <div class="filters-section">
    <h1>Descubre contenido</h1>

    <div class="filters">
      <div class="filter-group">
        <label for="mediaType">Tipo de contenido:</label>
        <select
          id="mediaType"
          [(ngModel)]="mediaType"
          (change)="onMediaTypeChange()"
          class="select-input"
        >
          <option value="movie">Pel√≠culas</option>
          <option value="tv">Series de TV</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="genre">G√©nero:</label>
        <select
          id="genre"
          [(ngModel)]="selectedGenreId"
          (change)="onGenreChange()"
          class="select-input"
          [disabled]="genres.length === 0"
        >
          <option [ngValue]="null">Selecciona un g√©nero</option>
          <option *ngFor="let genre of genres" [ngValue]="genre.id">{{ genre.name }}</option>
        </select>
      </div>
    </div>
  </div>
  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Cargando...</p>
  </div>

  <div *ngIf="!loading && results.length > 0" class="results-grid">
    <div *ngFor="let item of results" class="movie-card">
      <div class="poster-container">
        <ng-container *ngIf="item.poster_path; else noPoster">
          <img [src]="imageBaseUrl + item.poster_path" [alt]="getTitle(item)" class="poster" />
        </ng-container>
        <ng-template #noPoster>
          <div class="no-poster"><span>üé¨</span></div>
        </ng-template>
        <div class="rating">‚≠ê {{ item.vote_average.toFixed(1) }}</div>
      </div>
      <div class="movie-info">
        <h3 class="movie-title">{{ getTitle(item) }}</h3>
        <p class="movie-overview">{{ item.overview || 'Sin descripci√≥n disponible' }}</p>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && results.length === 0 && selectedGenreId" class="no-results">
    <p>No se encontraron resultados para este g√©nero.</p>
  </div>
</div>
